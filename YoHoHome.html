<!DOCTYPE html>
<html>
<head>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
<meta name="viewport" content="width=device-width">
<title>YoHoHome</title>
<link rel="icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACqAAAAqgB7e92gQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALXSURBVFiFvdfPa11FFAfwz2hqUVsbClr8EYjBhaKudKEtuFH3oishJcWFYBDBZOk2C3HzQEWJhSr+DNV/QcUfNK6r6EIMIqUGC1ZbqqVqj4s3t97c3Jm+J08HDndmzveec+acM2dmRISIgFvxBTax3MxPirCcZa9j5tJ8C/A8okVzE1Q+15G90uKZwQpOd0AHJ2jAfEf26axzZgpHcZ/t7YqeOZBSmsYs9uEkNiLiXAmPKzvjaTyHB+W4RA+tdlZxP9bwSwH/I97D3T0eWC38s8kwOfqYgQF24MUKpksX8QZ2ZuWDCnY5RYSU0hz2Z1ftx5Mtd53ALRX3ltrnOI7F1txrOIa/cCwiNkpJU7P639KgV1clc1/9r5VHRDnT8duYLi+1jyPi2RKzZsAjEzJgV42Zmmq0ZTKlq/C7uoGjtrMRcV2JWVJw/YSUw+6U0k3jGnB+QsqbdqHE+D9CcD4iri4xexVExAV81RaCb/CJYRHpa2fwIb61dcUnquZV6sArhnt4A9Ot+TsMz/T2Pv8Mu1qYm3Gq4VVPyooBT2UBBwrn+8XM/xN7ejCPZv77NQNqMb4nf7cVpIjYwNk8/CEifu35/2T+7qjo6PcAbjSMY+DlHv6hzFvPHug7gt/NmJ9x7VghwDO2xvhI9shDmXcOaxl7FN/jcdyOB/BR5/+nxzXgTZc/YGYz9rYRsB+UDJgqROZ1PIZrKtF7OKV0BnsrmKatFTmVXfDOCCsr0ZedcfE4HvVCMsB3IypfR+qTUTTA8IY7jwXbL5CDjHk7j08ZZn5TpJpa8FPuv1BZyGrWMe+fHLJUWc2gJWyx5Y1Pc78pNsfxUu4vXsabbVpi9Gv5nYbnwCEcxteYyl54C0/gD9zQE9Lqtbxb1xtaKJTg3diDu/LcAezL/XsLObVQyZfi02y+VsPHIRzsyL70NGuDVjqg2QkaUH6ctkAz2SWbWJqU8pb83uf531Pa0xJ0bGAIAAAAAElFTkSuQmCC"/>
<style>
body { 
	background-color: #303030;
	color: white;
	font-size: 100%;
	margin: 0px;
	font-family: "Dancing Script", "Lucida Handwriting", Cursive;
}
.AppArea {
	background-color: black;
	width: 500px;
	font-size: 1.5em;
	text-align: center;
	margin-inline: auto;
	padding-top: 5px;
}
.aboutHeadline {
	font-size: 0.8em; 
	color: orange;
	text-align: center;
}
.aboutText {
	font-size: 0.8em; 
	color: white;
	padding: 20px 20px 20px 20px;
	display: none;
}
a:link {
	color: lightblue;
}
a:visited {
	color: lightblue;
}
.instructionHeadline {
	color: orange;
	font-size: 1.5em;
	margin-left: 15px;
}
.userBoxMargin {
	border-radius: 10px;
	border: 2px solid orange;
	margin: 10px 5px;
	padding: 10px;
}
.playerBoxMargin {
	margin: 10px 5px;
	padding: 10px;
}
.nameEntry {
	border-radius: 10px;
	border: 2px solid #303030;
	margin: 10px 0px;
	padding: 10px;
}

.mainHeadline {
	font-size: 1.5em;
	color: orange;
	text-align: center;
	font-weight: bold;
	margin-bottom: 10px;
}
.nameEntryAreaWrapper {
	padding: 10px 34.5px;
}
.nameEntryTickMark {
	background-color: #303030;
	margin-right: 10px;
	height: 51px;
	width: 51px;
	vertical-align: middle;
	border: none;
	border-radius: 5px;
}
input[type=text] {
  background-color: #303030;
  color: orange;
  font-size: 1.5em;
  border-radius: 5px;
  border: none;
  font-weight: bold;
  vertical-align: middle;
  text-align: center;
  padding: 5px;
  width: 330px;
  font-family: "Dancing Script", "Lucida Handwriting", Cursive;
}
input:active, input:focus {
	outline: none;
}
.startGameErrorMessage {
	border-radius: 10px;
	border: 2px solid #303030;
	margin: 10px;
	color: white;
	font-size: 0.8em;
	padding: 10px;
	width: 75%;
	margin-inline: auto;
}
.startGameButton {
	color: white;
	margin: 10px;
	background-color: #303030;
	border-radius: 10px;
	width: 75%;
	font-size: 1.5em;
	padding: 10px;
	text-align: center;
	margin-inline: auto;
}
.gameAreaWrapper {
	display: none;
	color: orange;
}
.viewSelectorWrapper {
	position: relative;
}
.viewSelectorLine {
	position: absolute;
	background-color: #303030;
	top: 45px; 
	left: 0;
	height: 2px;
	width: 100%;
	z-index: 1;
}
.viewSelectorButton {
	position: relative;
	display: inline-block;
	border: 2px solid #303030;
	width: 180px;
	padding: 10px;
	border-radius: 5px 5px 0px 0px;
	z-index: 5;
	background: black;
	font-size: 0.8em;
	vertical-align: middle;
}
.bidAreaWrapper, .trickAreaWrapper {
	display: none;
	padding-top: 20px;
	text-align: left;
}
.bidInstructionString, .trickInstructionString {
	text-align: center;
	width: 100%;
	font-size: 0.8em;
}
.bidNameBox {
	width: 96%;
	background: #303030;
	display: block;
	text-align: left;
	padding: 5px 5px 5px 15px;
	font-size: 0.8em;
	margin-bottom: 10px;
}
.bidButton, .trickButton {
	display: inline-block;
	border: 4px solid #303030;
	border-radius: 5px;
	color: orange;
	padding: 10px 24px;
	margin: 0px 10px 10px 10px;
	font-size: 1.5em;
}
.bidEntryErrorMessage, .trickEntryErrorMessage {
	border-radius: 10px;
	border: 2px solid red;
	margin: 15px 10px;
	color: red;
	font-size: 0.8em;
	padding: 15px 5px;
	width: 70%;
	margin-inline: auto;
	text-align: center;
	display: none;
}
.bidConfirmButton {
	color: white;
	background: orange;
	width: 70%;
	border-radius: 10px;
	padding: 5px;
	margin-inline: auto;
	text-align: center;
	border: 2px solid orange;
	font-size: 1.5em;
}
.trickPlayerColorBox {
	width: 98%;
	background: #303030;
	display: flex;
	padding: 5px;
	justify-content: space-between;
	align-items: center;
}
.trickNameBox {
	font-size: 0.8em;
	vertical-align: middle;
	margin-left: 10px;
}
.trickNameInfoBox {
	font-size: 0.8em;
	margin-right: 10px;
	align-items: center;
	display: flex;
}
.trickViewBidEditButton {
	display: none;
	align-items: center;
}
.trickSpecialContainer {
	display: flex;
	justify-content: space-between;
	align-items: top;
	margin: 10px 0px;
}
.trickSpecialThirdArea {
	width: 33%;
	color: white;
	text-align: center;
}

.trickSpecialTierOneArea {
	border-radius: 5px;
	width: 90%;
	margin-inline: auto;
	display: flex;
	justify-content: center;
}
.trickSpecialTierOneButton{
	border-radius: 5px;
	width: 100%;
	height: 49px;
	padding: 5px;
	display: flex;
	justify-content: center;
	align-items: center;
}

.trickSpecialTierTwoArea {
	border-radius: 5px;
	width: 90%;
	padding: 3px 0px;
	display: none;
	margin-inline: auto;
	justify-content: space-between;
}

.trickSpecialLootArea {
	display: flex;
	flex-direction: column;
	align-items: center;
	padding-top: 2px;
	width: 100%;
}

.trickSpecialTierTwoCaptureButtonImg {
	border-radius: 5px;
	background: darkblue;
	padding: 7px;
}
.trickSpecialTierTwoCaptureButtonText {
	border-radius: 5px;
	background: purple;
	padding: 6px;
	width: 40%;
}
.trickSpecialTierTwoCaptureButtonLoot {
	border-radius: 5px;
	background: orange;
	padding: 5px;
	width: 90%;
	text-align: center;
	margin-bottom: 5px;
}
.trickPlayerSpecialTextBox {
	font-size: 0.8em;
}
.trickButtonArea {
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 20px;
}

.trickBackButton {
	font-size: 0.8em;
	background: #303030;
	color: white;
	border-radius: 10px;
	padding: 7px 20px;
	text-align: center;
	margin-right: 10px;
}
.trickConfirmButton {
	color: white;
	background: orange;
	width: 75%;
	border-radius: 10px;
	padding: 7px;
	text-align: center;
	font-size: 0.8em;
}
.leaderBoardAreaWrapper {
	display: none;
}


</style>
<script type="text/javascript">
var allowGameStart = false;
var players = new Array();
var totalscores = new Array();
var gameData = new Array();
// first round, then player
// bid - trick - +10, +20, mermaid, pirate, king
var alliances = new Array();
//list of arrays, round, player, player
var currentRound = 0;
var editingRound = 0;
//toggle between bid (0) and trick (1) game views
var currentGameView = 0;
var minusIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUElEQVR4nO2WTU7DMBCFn+gF6G16BeAWLYegsOAE/GyRECwyE1VR2aCyokdgDdtWAq4Aqz40TgIU1W5KY8KiI42UxJ58npdYfsAmmg5maDFBhwm6VBxScE7FBRWZS8Gdy/I+Hztzc63GajO0VoOm2KPilQqulYIXKnarQwWztaFf8NlSuJM3XyVrzmceY8sPtu9SPzTPBB0/WLEfDSzohcBHEcF9PzjfMnHAitMQ+Coi+DIETiNKLaFvfOMpfKNiQsEjFQ9U3FNw69Ku7Vk+NinmLgIPQx2Pfkx+5zW2vQX+Btqudv5do9XAinZ8sAalnlLwVEg9/ib1uJDaxqa/lTpt5ueSpraTuvM0VscnoY77ETs+CIF70cAJuv/wWMwaMgIWZlNqtz6CHVQJB7dV1tFpVWgZJs2cvc23mlnYwQJ7O/i0t7YzSnu7TN5N4A/iA7eHO5DCbuIiAAAAAElFTkSuQmCC";
var plusIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVR4nO2WS07DQAyGf+gBCkegXKJXAG7RcggKC07AY4uEQCLjUI1gV85C2AMS4QQIVCPPNBAiMnWUQLqoJUt9zO9v7BknBpbWtrFFhyP0OcKACftscMqEMyZY5wZ3zrPv/r8Tt1Y0orXoVIPG2GHCMxO4lhs8MWFbDzWY1oZ+w6dz4a68fpfcsD/yIVbLwXIuzUO9R+iXgwm76kBX2GBCr0LJhyHwgTqQRZcvsVYBPCoH+5bRBHlnxopz+ayDH4fAF8ogLzlNqtSch8CxMuP73PEkSo0JnfFtQPgxyy6RyhSqJL+lbk25/iaU8aSw+M3dXItuqagYQy6daLw2H2uygGBqr9Sx8oYmOc1D/ctllO1kkOY0r/Xbidz79G8eIAZHoYxHyt3z7HG5rl5P2AuBhxUC9fgam+r1EQYL+Fq0LQ0CYjKmND76GGxBYw4uu2wiUy00MynNj/HWt5qMsONfxtvx13grnZGNt/PKuzT8g30CLtEaEMMnXGIAAAAASUVORK5CYII=";
var handcuffIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAACbklEQVR4nNXXy4vOYRQHcGMyLkPulwU1Y1DGLKSUyL/AykpRSslqZmFFkhoWiNjYCAsRpRQL15VIdi4zGHJtMuPSWMil4aOnnpen3/zed97LUE699XbO+Z7vec7znOc5v1Gj/jfBLExH3b8gW4WzeI+e+OuLuhV/g3AMjuI+1mF8YhsfdQ9wJPiOFGkdzuAkGkr4jY0+p0ak/NiMy6gvw7ceV7CpVtJ6vMDCCjCL8ByjayFejWtV4G5gZS3EW9FZBW4vttRCvBMdVeA6ArYW4l1orwLXHrDVkjbiOi6EVqkANzZiAraxGuINOI1LWFMBbg0uxt7fUCnpuXgtfsQA+nGsDNyx6DsQsSHGuUqIuw2V22XgbufguqshPoTjVRCfwMGKiDERb5IA5+P/R6UOC8YlCZ+PWDHW5OFIl+CJ4hKewQU5uPm4VwL3Cm3FSKfgaQbQhccZXUhsYoKbkEP6OK7+Z6J7HQaHPOLOxOkhWhPbsnjxF2R7YtuW6J8F38TWGpMvyL484sK+fsfiHPvSZAVdiT4MAKJteQ6uBYPRpzdrDOUqyN0yTvuPwqSBb1HXU2abTU8N0xJD0bbJrK4hjkSDw7UNbibxZ2SNL6PhK5pywIuTUv9eXXKwBvNOLubF7QvSn5fV/rTcmJuZKgqrDbI7se1I9MGnJbE1xVgFOZxHHMr9Njp8QDMO4E6yj2JlpmResTAeBfkcxiTswS18SXB9mFNsL9oieXgkNhoqb4qUsyUmdBVrc3Dv8k58NshUrI9JfIrA3tCDoSolcJNiss3xVRJfqjBrzy5JmhMstNnMikB/7u3wifP3P28qlV+9IsuvpOCvTQAAAABJRU5ErkJggg==";
var coinsIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVR4nO3W30pVQRQG8FH0XkwlHyXEmxQis6sufA8DNaxH8s+VggmRR/MZurJACkTNK0kLfrFhHdghnj3bvQ8i+MFmMTOL+fZ838yaSekRDwmYwCI6OMbviJ3on+gH6Swu9MYvPG+b+HtMvoYXGMdgxKK9HuNHTWW8wg8cYKW0qg28jPyhiHPY7Ca0LWM2Uh9kFKvfDzWuI+6XVUk1iLNlxMAtcww0Ic7BFubxFMMRi/Z2E+JKGXOQ7kBcKWNjj/EEq/hcmvQEn7AUG2sSr8syNvIY0w2Oz909xtcax2cHb+v8WcrwNKsKteaxeljGYal9ii94j7G6Hrd1fIrb6BUWsNvtbOv45OyD/5AyiCt3aGYZ/VjegKkljyvRL49XMnLexKoLfGvL45ycLs7xLOf+zfG4KucyVluU2ZFbSYN4JvPhVny9cIapnmQ93lh78cb6E8WhE8VhPHI+hKfF2F/8jPY7jN6Y+BHpnvAPwP+tyWuXh2EAAAAASUVORK5CYII=";
var mermaidIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAADZklEQVR4nM3Wa8jfYxgH8OfZaA+2aU5hs7ZRiCVmjklmshJzWjGHmNMcc5x5gbU2h71wzCFGFBHlGDkurI2cJcQM2xxyaF7hDX108X3q13//h2fP/0nu+tV93133/f1d1/W9vvfV1fV/HdgEp+JGXIl9/wvQ0fgE9+GyfG/iZezQxn4rdA8G8HM4G5fi18yH4gSswpxaN+zfK9tOQcfjK5yBD7AnHsVKjMQWeBDv4HTMx0dYjXGdAE/HPZiLyxv732KjxvpA3BTgbbAAF3UCPBsLsR+WZm8y3mjYHIZjW85dgnmdAM/AvUUWPINH8BmmNWzG4m1slvWGeAtTOgEem7CW17fgG7yKa3EaRjVst8YXeB2/4P3ixkBAu/Eknqp84czGVym4PT9VuR2fM5vjHPyEJRg2EOCz8CxGYFf0tHi3W3mccirmvxJ2r4rIDBuoaHxdJZELa/59wr00QFXTn+PClNVJCe9rvREYCPATOD9i8TMW42j8Hq+qZH7ARNyWkN+KHYvNuHmgTF4eb9eULuOPKiHsjisC+ljjzKa4GCvyE1PXF3RUcrRLpLKI1IPvWuyOwx193DE8zJ67PsDXRHVOwUthdoXvN0yKTe3dVcTr4445Sc2n2Km/wPNSp6saJfJweRf9nVT5w/PR7n3a3PEiDkgJLuwv8AaRwAmNuizRGJbL1ga0J1FZ3OaOitQeSdeyfgHXwN44JCE9HA9gS2wccvU03t0VXS0j7/Yx9YhESHZuakCfI4fuj3DMTt6vw6w2tmvb7J1XPMm8XrZlqYIXypF/a3PGxeNZyWl1Hee22NVj8GOb8/V2L2rZq8ZhSsq0PdtTj1UO2+JIPJSDQ1vsSkaXtwGoej8UV+HdNA7z40CRduY/ed0dj6oD+TDkerrZS0Vo7m6sRyS0j2P/nCvpnYoLkrbR/dHpvzoIfJnQF5unN+xOTBN4Z6lYiQyuD6mqGZyWBmJGn2CtoxjcmNdLc0M6j5W9nWWJQ8rr+FTB8OxfXenJfEIitd06IO1GLq1XZq80dSsTviOKaA27iS3nTsbH0e6ZOKpfgL0joT2opbbXJK/r9MwRlAXpMMdgCLZPCoZ0dTL8LQRL4tGidBqzw9bV0e+Rsa13eXJHgF3tf6BYWuAlLNV7jWmxKT4cPKjAgzn+BL/3YuOEs6UXAAAAAElFTkSuQmCC";
var fishyMermaidIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAADjElEQVR4nK2WXUzPYRTH/4UmNiRsYi64ZGHZuMoiQ9lMF7S5oS4sbcS68BYbwiKvMdNSNBcuYl7nrZVpo1kYE3mJjRXdeAshPnby/fP3+Nf/909ne/b8nvOcc77P7zznnOf4gPlAC/AQiPd5JCADuAW85RfZXAcs9mqgBdgJVAIVHnVygU/AJmAOkKx5s/grvRipF+hj4KAH+f5Aq/tnwAJguDzxAegXytA44DhwABjsAXi2/ipXY6YdGPgOlIv32fgh/9olIA4oAFYBfZ29pcAdoBRo1N1e1QFKNe4CWb5wCbgh5VfADmcvT0AdIM6eH9j287oD/AZYDZwETjt7u4EzAihz9srEPwvs6g5wDtCuA0x19soFsBZ4ZAEl/kjgiQ581EbYwEbAACDK55DAVgKjgAbgB/BauWzAYxRgDb6eImCWojceuK8AnAqkA4lAofgTJJfSE6CJcv8W4JAiOkZ7SZpjxLf02ibw6eGADArC6wNMBHoD3xRAk4D1crNFe4L4XyQ3qZPr6t8ZcDPwVKc2Y4OBjcA7VaZa/pCV3D2a/XQdWCL5jdJPkD2z29QZ8EIFTavmdrnQQIfJ7f6Ui5BOBLBG/CmSy5Beu2NvYVfuzldVshKZohMXq1weA84BRY5OkfiHJVcsvRTZMXv5oe45EjhhbgFq5MIqIA2IlpFMRydD/GjJmTzSb5K9yC6BZSgKWKFI/v1WA6nAR2BgkNw3fmoAL176OcECLSwCShTZF6yWK2gKtTZ+iRcjY/WQJ+s7UuMvvqNjrjsCbAdOAZc1F4hf4wW4LSAN/PdY7fDaHJ2HSpfRQLZ42Vob/4EX4BfKw14q9I3KtRHi7bX67OhUqWu5CHwF1mk+L16lF+AkRaId4IqKR7O+XyovkxydFQHRug+4p9kf/TmOfKw/311wqyyZij57T/1k9xUbRD5W7c00hz9N/A4dxUqFbD2wotKVByJ0xz/kPgug6CByl9SdDgKuabb1xQAZe6WMZgDPgeVeGkBLi606qXWg8wLdper1PqBu12pdHCAzVGWyWj8RugHU6TuePmCD4qBe31mqRKcUmKmSt1dpmWNnsmTSQ4IGVCEzvl/rGMVAnfrmcpXGjmuQRyw14zwBdEW6G//jn6bWJkqeWKRxU0XmTbc6S1/n4HNl1IaRvTpGdmc27C+t07DD/Zsy/wk+RF2l9cvPBGYN3m3d3/hwjf4EOWaK5KJ8WkMAAAAASUVORK5CYII=";
var crownIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuUlEQVR4nO3UO2sVYRAG4BPMsfIW0MIyEIWUIaRQEGy8oaKWFtGo4B9Ip4UINiqItl5+QSBgZx+jICksvKA2FoJ3S0ULHxky0UPcs2cPbJYUGRhY5pt535n3m/1arTVbzYY2jqS3mySdx6f0h42QW5wyCDdiEz7jcBPEh/AVQ+lfcLApqRfwMad90pTUQ0l4A7fwPiRf8S3FTTzFOgziGa72ja+PLcUofmFvR2wffmKkhHT+P/x+thQPMFMQvx/epaYY37+DCG7OjT3RBeAHhgvORnLq/QVnJxNzS+L/JW7n+EtSfM/Ei9FlFq/HK1wpmipzruH50jVhey5fNPstCcPnlt/z0ex6D07hdf6jF3AJ77ChhDgU+4DLuYAxwKNQAbsTu3h58RjT+R0bexpvLNpkN9KO+nOZGzgHOuLTESsrvI7ZZbFoYBcGehFn/mhBbDawy4qO5z1XIqnYyEC+csfKkrbiN3bUSLwzMbf1SnyJMzUSn8WLKol3cLdG4nu4XSVxCm9xviYPrKkqxBP5SyzU5GETVYjHI7Oylr3xwsZXNfHYCkg9VoV4MN/qupZrMjBrEnDNWn3bH0q02PZtWYBOAAAAAElFTkSuQmCC";
var thickCrownIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAABe0lEQVR4nO2UvUoDQRSFN0awEQubgGysBAUL6wQLX8BO8wDpFLRIY2meIGqRF7CMadUirb9FKjsLm4AaEBFEjVp8MnAXh8k4ju6SpMgHl5C7554zOztMEAwZdIBpVf0IfZPK9jI4BF6kwl4GZ4FH4BmYifsGJZ/VA6PACd+cqt6/MoC6mBx4GGzTTdljrt6VAawD78ATUAWWgLRlOA98isGVFNLLW/Rp8aqKt8pYM0VTxls8APvAsmzvOHAtzzrAAjAPvErvBpgARoBFYA+4NTzDn7ajhZ07oKn939BmNrV+U7Q2Wq7vUBPRB3AsvyaHQEqbSQFHFl3kobZXUXMFq1MXoS6JSaCoLeIeyFjmMkBbCyvKrPKIKLmCc5qwYDxTRrOO2TmlMXoFzS/nCh6Tg6PYCWIC7IpXR3n/Jj4X8UUCwZfideYjrmir3IpZ0e5VfIJXSZ4Vn2DzIkmC0PfbeN/BDo9yZPKXob4HN2IcrEac4EQY/OAhQ4IE+AKQjYosQTL09wAAAABJRU5ErkJggg==";
var pirateIconBase64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAACU0lEQVR4nO3WW4iNURQH8OOSPGFiMEqKEEneiGLkkiSFInmQy6QUyqRBFFFehOQSD5JIHpRCFOXyIi8otwfkEiV3JUL8tLNOdqeZcY4zyoN/rYdv3f7f2nvttXeh8B//ItAd63AJ9/AAN7API/4WaT1eahnfsBHt2pJ0Cj7gO3ZjMMZgJPpjZdgT9qBjNWQ1mIpD+BpJV4RtUFSYZGDohuF5+F3DEgyohLAzTkd1RbzF/MynZyz7C9Rm+r64XLIFV9CtHOJlEfAkql1YGoij2BBysJkco7AVtyLX+nKIt4TzhlZ80jIW0dCKXzoBCTvKIR6WNUpjCz4XcT3kQgs+jZEj5Rr+W+IIGpuRN0Xn5pKO1pCQ+mbsTRnpuLJIM/KzqseZikgTcCKCr+JcK/IsI/oYuhSTcKJQKfyqeFQrPn2yLSlienR1wtlKSddGYDqrdaFLe/c05nSH0M1uZnl3xQ+9iu+1lRC/jWWry3TTItHX4rmOE5APmoSlYauLHG8qIX4c43AmuoSuPRZgYonvKnyKHziCTikGcyPHo0qIF2WV3ClzzNZk33ciNuVYWDZxBKfzeT8STCqxDcVyLEbXEtuEiHmYclREWgQ2Z3t3EjNipH7J9OmimIfJOJXpdxb+FH5W3RzeYU28PEqbq4g51RB3wutIvhp7sQn9Mp/xOBw3VgPeR1P1+mPiBGyLCg4UymvKhPOFaoHaGBwJx+MZ1Cs6OUnvdBFgOz7H/o+umjjr4pt+jzdpmhXaEuiIWdgfz5vbuBtPm2PxcunRpqT/UWgD/AD0KbNNVf2R3QAAAABJRU5ErkJggg==";
function sanitize(string) {
	//copied this from somewhere
	const map = {
		'&': '&amp;',
		'<': '&lt;',
		'>': '&gt;',
		'"': '&quot;',
		"'": '&#x27;',
	    "/": '&#x2F;',
	};
	const reg = /[&<>"'/]/ig;
	return string.replace(reg, (match)=>(map[match]));
}
function toggleAbout(changeTo) {
	if (changeTo) {
		document.getElementById("aboutDiv").style.display = "block";
		document.getElementById("aboutHeadline").setAttribute("onclick","toggleAbout(false)");
		document.getElementById("aboutHeadline").innerHTML = "About This App (hide)"
	} else {
		document.getElementById("aboutDiv").style.display = "none";
		document.getElementById("aboutHeadline").setAttribute("onclick", "toggleAbout(true)");
		document.getElementById("aboutHeadline").innerHTML = "About This App (show)"
	}
}
var nameEntryString = "<div class=\"nameEntry\"><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAADUUlEQVR4nO3cO2gVQRTG8YlPUEFBsfDR+AQRtREsBEE70UZEsFBEIYU2YmOqYGGhdhIQBBG0EjSVIIqCqCCIElIEtdI0Por4SopANPcvIxtMJCbZmbl3Zme/X5/L2f12Z5fZc2KMiIiIiIiIiIiIiIiIiIgEBCwE5oT8TfEL4zFwB5jr+jsSNowxCiWhMBRKgmEolATDUCgJhqFQEgzDegbMa3pxdYNbGP3A8ti1Zwe3MIaALbFrzw5uYTSAQ7Frzw5uYVidsWvPDu5hdANtsevPCu5h9Nq/jV1/VnAPYwBYE7v+rOAexgiwK3b9WcE9DKs9dv1ZwS+My7Hrzwp+YTzSV8J0wngHLAtZT63hF8YgsDn2MWQDvzBGgf2xjyEb+IVhdcQ+hmzgH8ZtbYukE0YPsCBUPbWGfxifgFWxjyML+IcxDOwwqQHWAsdMhQCLim/aPo6a1ADzgVfj9vuXmvzvDOuSSRHQxUSfgb0m7zAeALNNaoCDU3w3vpramwdhwngLLDGJPje+T1N8H7DN5BPGD2CTSfy5MZM3kbPArIqH8SvZpRg46bjurqjo25R1xqTKDp4AdynvG3C4YneGdcOkzvakAvdxc9NeuRUJ47ldok0V2Lco4Knjgb4HdiYexgdgpakSYDHw0vGAfwIXQs7eES4M+zKy3VSR/VxZvOK6egGsTyiMRiufdU1hW+uBNx4nYdCnZYZwYVjnTQ6A1cWzwUfp/TDChnEvyW0RV8A64KPnSZnxfhhhw3htn4kmN8DG4qT6aEy3HxY4jC/2YjK5ArYCXwOcqL7J9sMCh2Hf9nab3NmvacX4lq/h8fthgcOwTpm6sFdecUJDeAhsCBzGdVM3wL6iLT+EBuE8qe0/hAEOFGt1KvprP5YMHCnaLWMb0ljy3zvleOBlpyyNJU+yfJ0mns5WL9eVAJyLEEa3+m+nDuViC8Po1Vjy9HdJG3ClBWEMaCy5XCjXmhjGiMaSS7Lb3cCtJgXSXrYe8etkmYrGkiN2svxLY8kJdLKM0VhyQp0sgxpLTqeTZVRjyWl1snQ0sx4xpTpZNJacUCdLT2rDQdnj/50sGktOqJNlOMmx5DphYifLidj1iPkTyp5s+m9FRERERERERERExOTvNx4w2r5e+WKBAAAAAElFTkSuQmCC\"";
nameEntryString += "class =\"nameEntryTickMark\"/><input type=\"text\" oninput=\"nameEntryChange()\"></div>";
function nameEntryChange() {
	// There should be at least two name fields, the last of which should be empty
	// Loop over all name entry areas
	var nameDouble = false;
	var children = document.getElementById("nameEntryArea").children;
	var empties = 0;
	var existingNames = 0;
	for (var i = 0; i < children.length; i++) {
		//check if field is empty
  		if (!children[i].children[1].value) {
  			//its empty!
  			empties++;
  			children[i].firstChild.style.background = "#303030";
  			children[i].style.borderColor = "#303030"
  		} else {
  			//Not empty. 
  			children[i].firstChild.style.background = "orange";
  			children[i].style.borderColor = "orange"
  			children[i].children[1].style.color = "orange"
  			//Lets search for duplicate entries. Note that nameDouble can still be positive from a duplicate found in a previous field, 
  			//but needs to be such a high-level variable for later
  			existingNames++;
  			for (var j = 0; j < i; j++) {
  				if (children[i].children[1].value === children[j].children[1].value) {
  					nameDouble = true;
  					children[i].firstChild.style.background = "red";
  					children[i].children[1].style.color = "red"
  		  			children[i].style.borderColor = "red";
  				}
  			}
  		}
	}
	//We dont have enough input fields
	if (empties == 0) {
		document.getElementById("emptyDiv").innerHTML = nameEntryString;	
		document.getElementById("nameEntryArea").append(document.getElementById("emptyDiv").firstChild);
	}
	if (i == 0) {
		document.getElementById("emptyDiv").innerHTML = nameEntryString;	
		document.getElementById("nameEntryArea").append(document.getElementById("emptyDiv").firstChild);
	}
	//Set the error message
	if (nameDouble) {
		//We have a double name
		document.getElementById("startGameErrorMessage").style.display = "block";
		document.getElementById("startGameErrorMessage").innerHTML ="All names must be different!"
		document.getElementById("startGameErrorMessage").style.borderColor = "red";
		document.getElementById("startGameErrorMessage").style.color = "red";
		document.getElementById("startGameButton").style.background = "#303030";
		allowGameStart = false;
	} else if (existingNames < 2) {
		// We dont have two names yet
		document.getElementById("startGameErrorMessage").style.display = "block";
		document.getElementById("startGameErrorMessage").innerHTML ="Please enter at least two names!"
		document.getElementById("startGameErrorMessage").style.borderColor = "#303030";
		document.getElementById("startGameErrorMessage").style.color = "white";
		document.getElementById("startGameButton").style.background = "#303030";
		allowGameStart = false;
	} else {
		//game can start!
		allowGameStart = true;
		document.getElementById("startGameErrorMessage").style.display = "none";
		document.getElementById("startGameButton").style.background = "orange";
	}
}
function startGame() {
	//begin by checking the names, we should have at least two names and no diuplicates
	var nameDouble = false;
	var children = document.getElementById("nameEntryArea").children;
	var empties = 0;
	var existingNames = 0;
	for (var i = 0; i < children.length; i++) {
		//check if field is empty
  		if (children[i].children[1].value) {
  			//Not empty. 
  			existingNames++;
  			//Lets search for duplicate entries. Note that nameDouble can still be positive from a duplicate found in a previous field, 
  			//but needs to be such a high-level variable for later
  			for (var j = 0; j < i; j++) {
  				if (children[i].children[1].value === children[j].children[1].value) {
  					nameDouble = true;
  				}
  			}
  		}
	}
	if(existingNames >= 2 && !nameDouble) {
		//Lets start
		//initialize arrays
		for (var r = 1; r < 11; r++) {
			gameData[r] = new Array();
			alliances[r] = new Array();
		}
		//populate players array
		var j = 0;
		for (var i = 0; i < children.length; i++) {
			//check if field is empty
  			if (children[i].children[1].value) {
  				players[j] = sanitize(children[i].children[1].value);
  				for (var r = 1; r < 11; r++) {
  					gameData[r][j] = [0, 0, 0, 0, 0, 0, 0];
  					alliances[r][j] = new Array();
  				}
  				j++;
  			}
		}
		//populate alliances array
		for (var r = 1; r < 11; r++) {
			for (var i = 0; i < players.length; i++) {
				for (var j = 0; j < players.length; j++) {
					alliances[r][i][j] = 0;
				}
			}
		}
		//show the right divs
		document.getElementById("nameEntryAreaWrapper").style.display = "none";
		document.getElementById("gameAreaWrapper").style.display = "block";
		document.getElementById("bidAreaWrapper").style.display = "block";
		document.getElementById("gameViewSelectorButton").style.borderBottom="2px solid black";
		//build the bid structure
		currentRound++;
		editingRound++;
		updateBidStructure();
	} else {
		document.getElementById("startGameErrorMessage").style.display = "block";
		document.getElementById("startGameErrorMessage").innerHTML ="Cant start game! Please enter at least two names and avoid duplicates"
		document.getElementById("startGameErrorMessage").style.borderColor = "red";
		document.getElementById("startGameErrorMessage").style.color = "red";
		document.getElementById("startGameButton").style.background = "red";
	}
}
function showView(view) {
	//the user wants to switch between the game view and the leaderboard view
	//0 is game, 1 is leaderboard
	//currentGameView distinguishes between the bid and trick areas, its a bit confusing
	if (view == 0) {
		if (currentGameView == 0) {
			document.getElementById("bidAreaWrapper").style.display="block";
			document.getElementById("trickAreaWrapper").style.display="none";
		} else {
			document.getElementById("trickAreaWrapper").style.display="block";
			document.getElementById("bidAreaWrapper").style.display="none";
		}
		document.getElementById("leaderBoardAreaWrapper").style.display = "none";
		document.getElementById("gameViewSelectorButton").style.borderBottom="2px solid black";
		document.getElementById("leaderBoardViewSelectorButton").style.borderBottom="2px solid #303030";
	} else {
		document.getElementById("bidAreaWrapper").style.display="none";
		document.getElementById("trickAreaWrapper").style.display="none";
		document.getElementById("leaderBoardAreaWrapper").style.display = "block";
		document.getElementById("gameViewSelectorButton").style.borderBottom="2px solid #303030";
		document.getElementById("leaderBoardViewSelectorButton").style.borderBottom="2px solid black";
	}
}
function updateBidStructure() {
	var myString = "<div class=\"bidInstructionString\">Round " + currentRound + ": Enter Bids</div>";
	for (var i = 0; i < players.length; i++) {
		myString += "<div class=\"playerBoxMargin bidUserBox\"><span class=\"bidNameBox\">" + players[i] + "</span>";
		for (var j = 0; j <= currentRound; j++) {
			myString += "<div class=\"bidButton\" onclick=\"bidClick(this," + i + ", " + j + ")\">" + j + "</div>";
		}
		myString += "</div>";
	}
	myString += "<div class=\"bidEntryErrorMessage\" id=\"bidEntryErrorMessage\">Missing bids have been auto-filled to 0!</div><div class=\"bidConfirmButton\" onclick=\"confirmBids()\">CONFIRM BIDS</div>";
	document.getElementById("bidAreaWrapper").innerHTML = myString;
}
function bidClick(buttonElement, playerID, bidValue) {
	//Loop over all elements and format them as non-clicked, then fix the one that was actually clicked
	for (var i = 1; i < buttonElement.parentElement.children.length; i++) {
		currentElement = buttonElement.parentElement.children[i];
		currentElement.style.borderColor = "#303030";
		currentElement.style.background = "black";
		currentElement.style.color = "orange";
	}
	buttonElement.style.borderColor = "orange";
	buttonElement.style.background = "orange";
	buttonElement.style.color = "white";
	//write values into the data structure
	gameData[editingRound][playerID][0] = bidValue;
	//alert("Clicked player" + playerId + " and value " + bidValue);
}
function confirmBids() {
	//loop over all players to get their results; identify if all have been filled out
	var forgottenPlayerExists = false;
	for (var i = 0; i < players.length; i++) {
		//we are now checking player i, is there anything selected for them
		myEl = document.getElementById("bidAreaWrapper").children[i+1];
		var selectedBoxExists = false;
		for (var j = 0; j < editingRound+1; j++) {
			if (myEl.children[j+1].style.color == "white") {
				selectedBoxExists = true;
			}
		}
		if (!selectedBoxExists) {
			//The player has forgotten a guy, lets remember that for setting up the warning message
			forgottenPlayerExists = true;
			//auto-select the 0 in red for him
			myEl.children[1].style.color = "white";
			myEl.children[1].style.borderColor = "red";
			myEl.children[1].style.background = "red";
		}
	}
	if (forgottenPlayerExists) {
		//the player has forgotten to set at least one bid, and we selected it for him
		document.getElementById("bidEntryErrorMessage").style.display="block";
	} else {
		//Bids are finished, lets switch views!
		//there are two different view variables to make things more complicated
		currentGameView = 1;
		showView(0);
		updateTrickStructure();
	}
}
function updateTrickStructure(editMode) {
	if (editMode) {
		var myString = "<div id=\"trickInstructionString\" class=\"trickInstructionString\">Edit tricks for round " + editingRound + ":</div>";
	} else {
		var myString = "<div id=\"trickInstructionString\" class=\"trickInstructionString\">Round " + currentRound + ": Enter Tricks Won</div>";
	}
	for (var i = 0; i < players.length; i++) {
		myString += "<div class=\"playerBoxMargin trickUserBox\"><div class=\"trickPlayerColorBox\"><div class=\"trickNameBox\" onclick=\"showBidEdit(true)\">" + players[i] + "</div><div class=\"trickNameInfoBox\">Bid:&nbsp;<div class=\"trickViewBidEditButton\"><img onclick=\"trickViewEditBidClick(this, " + i + ", 0)\" src=\"" + minusIconBase64 + "\"/>&nbsp;</div><span>" + gameData[editingRound][i][0] + "</span>";
		myString += "<div class=\"trickViewBidEditButton\">&nbsp;<img onclick=\"trickViewEditBidClick(this, " + i + ", 1)\" src=\"" + plusIconBase64 + "\"/></div></div>";
		myString += "</div>";
		//begin with container special parts of trick
		myString += "<div class=\"trickSpecialContainer\">";
		//start alliances
		myString += "<div class=\"trickSpecialThirdArea\"><div class=\"trickSpecialTierOneArea\"><div class=\"trickSpecialTierOneButton\" style=\"background: orange;\" onclick=\"showSpecialTricks(this)\"><img src=\"" + coinsIconBase64 + "\"/></div></div>";
		myString += "<div class=\"trickSpecialTierTwoArea\"><div class=\"trickSpecialLootArea\">";
		for (var j = 0; j < players.length; j++) {
			if (i != j) {
			myString += "<div class=\"trickSpecialTierTwoCaptureButtonLoot\" onclick=\"trickAllianceClick(this, " + i + ", " + j + ")\">";
			myString += players[j];
			myString += "</div>";
			}
		}
		myString += "</div></div>";
		myString += "</div>";
		//alliances ended in previous line, start, captures
		myString += "<div class=\"trickSpecialThirdArea\"><div class=\"trickSpecialTierOneArea\"><div class=\"trickSpecialTierOneButton\" style=\"background: darkblue;\" onclick=\"showSpecialTricks(this)\"><img src=\"" + handcuffIconBase64 + "\"/></div></div>";
			myString += "<div class=\"trickSpecialTierTwoArea\">";
			myString += "<img class=\"trickSpecialTierTwoCaptureButtonImg\" src=\"" + fishyMermaidIconBase64 + "\" onclick=\"specialTrickClick(this, " + i + ", 4)\"/>";
			myString += "<img class=\"trickSpecialTierTwoCaptureButtonImg\" src=\"" + pirateIconBase64 + "\" onclick=\"specialTrickClick(this, " + i + ", 5)\"/>";
			myString += "<img class=\"trickSpecialTierTwoCaptureButtonImg\" src=\"" + thickCrownIconBase64 + "\" onclick=\"specialTrickClick(this, " + i + ", 6)\"/>";	
			myString += "</div>";
		myString += "</div>";
		// captures ended in previous line, start the 14s
		myString += "<div class=\"trickSpecialThirdArea\"><div class=\"trickSpecialTierOneArea\"><div class=\"trickSpecialTierOneButton\" style=\"background: purple;\" onclick=\"showSpecialTricks(this)\">14+</div></div>";
		myString += "<div class=\"trickSpecialTierTwoArea\">";
		myString += "<div class=\"trickSpecialTierTwoCaptureButtonText\" onclick=\"specialTrickClick(this, " + i + ", 2)\">+10</div>";
		myString += "<div class=\"trickSpecialTierTwoCaptureButtonText\" onclick=\"specialTrickClick(this, " + i + ", 3)\">+20</div>";
		myString += "</div>";
		myString += "</div>";
		//14s ended in previous line, end specials altogether
		myString += "</div>";
		//add the number buttons
		for (var j = 0; j <= currentRound; j++) {
			myString += "<div class=\"trickButton\" onclick=\"trickClick(this," + i + ", " + j + ")\">" + j + "</div>";
		}
		//add the user overview
		myString += "<div class=\"trickPlayerSpecialTextBox\" id=\"trickPlayerSpecialTextBox" + i + "\"></div>";
		//end player area
		myString += "</div>";
	}
	myString += "<div class=\"trickEntryErrorMessage\" id=\"trickEntryErrorMessage\">Missing tricks have been auto-filled to 0!</div><div class=\"trickButtonArea\"><div class=\"trickBackButton\">Previous</div><div class=\"trickConfirmButton\" onclick=\"confirmTricks()\">CONFIRM TRICKS</div></div>";
	document.getElementById("trickAreaWrapper").innerHTML = myString;
}

function showSpecialTricks(buttonElement) {
	//user wants to see a special trick in more detail
	//first, lets determine if the user wants to show or hide one by determing the state of hus current target
	var remember = buttonElement.parentElement.parentElement.children[1].style.display;
	//lets start by hiding all of them
	var elements = document.getElementsByClassName('trickSpecialTierTwoArea');
	for (var i = 0; i < elements.length; i++) {
		elements[i].style.display="none";
	}
	if (remember != "flex") {
		buttonElement.parentElement.parentElement.children[1].style.display = "flex";
	}
}

function showBidEdit(switcher) {
	//show the bid edit buttons in the trick view
	var elements = document.getElementsByClassName('trickViewBidEditButton');
	for (var i = 0; i < elements.length; i++) {
		if (switcher) {
			elements[i].style.display="flex";
			elements[i].parentElement.parentElement.firstChild.setAttribute("onclick", "showBidEdit(false)");
		} else {
			elements[i].style.display="none";
			elements[i].parentElement.parentElement.firstChild.setAttribute("onclick", "showBidEdit(true)");
		}
	}
}

function trickViewEditBidClick(buttonElement, playerID, direction) {
	//edit bid in the trick view
	if (direction == 1) {
		//user clicked a plus button
		gameData[editingRound][playerID][0]++;
	} else if (direction == 0){
		//user clicked a minus button
		gameData[editingRound][playerID][0]--;
	} else {
		alert("I misconfigured the bid edit buttons")
	}
	//lets see we maintain the upper and lower bounds for the bids
	if (gameData[editingRound][playerID][0] < 0) {
		gameData[editingRound][playerID][0] = 0;
	} else if (gameData[editingRound][playerID][0] > editingRound) {
		gameData[editingRound][playerID][0] = editingRound;
	}
	buttonElement.parentElement.parentElement.children[1].innerHTML = gameData[editingRound][playerID][0];
}

function trickClick(buttonElement, playerID, trickValue) {
	//the user clicked on one of the numbers for setting a trick
	//Loop over all elements and format them as non-clicked, then fix the one that was actually clicked
	for (var i = 1; i < buttonElement.parentElement.children.length; i++) {
		currentElement = buttonElement.parentElement.children[i];
		currentElement.style.borderColor = "#303030";
		currentElement.style.background = "black";
		currentElement.style.color = "orange";
	}
	buttonElement.style.borderColor = "orange";
	buttonElement.style.background = "orange";
	buttonElement.style.color = "white";
	//write values into the data structure
	gameData[editingRound][playerID][1] = trickValue;
}
function specialTrickClick(buttonElement, playerID, trickID) {
	//the order is bid, trick, +10, +20, mermaid, pirate, king
	gameData[editingRound][playerID][trickID]++;
	setPlayerResultString(playerID);
	//hide the buttons that he just clicked
	buttonElement.parentElement.style.display = "none";
}
function trickAllianceClick(buttonElement, playerOne, playerTwo) {
	//increase alliance count
	alliances[editingRound][playerOne][playerTwo]++;
	//hide the buttons
	buttonElement.parentElement.parentElement.style.display = "none";
	//update the texts
	setPlayerResultString(playerOne);
	setPlayerResultString(playerTwo);
}

function setPlayerResultString(playerID) {
	//We begin by looking at the specials
	//We slowly build the output with lots of IFs to create a perfect sentence structure; this is messy
	var output = "";
	var number = 0;
	var earned_used = false;
	var captured_used = false;
	//+10
	number = gameData[editingRound][playerID][2];
	if (number != 0) {
		earned_used = true;
		output += " earned a +10";
		if (number > 1) {
			output += " (x" + number + ")";
		}
	}
	//+20
	number = gameData[editingRound][playerID][3];
	if (number != 0) {
		if (earned_used) {
			output += " and a +20";
		} else {
			output += " earned a +20";
			earned_used = true;
		}
		if (number > 1) {
			output += " (x" + number + ")";
		}
	}
	if (earned_used) {
		output += " bonus";
	}
	//mermaid
	number = gameData[editingRound][playerID][4];
	if (number != 0) {
		if (earned_used) {
			output += ", and ";
		}
		output += " captured a Mermaid";
		captured_used = true;
		if (number > 1) {
			output += " (x" + number + ")";
		}
	}
	//pirate
	number = gameData[editingRound][playerID][5];
	if (number != 0) {
		if (!captured_used) {
			if (earned_used) {
				output += ", and ";
			}
			output += " captured";
		} else {
			// can we give ourselves an "and" to concatenate with the previous capture? It depends on the existence of a third capture!
			if (gameData[editingRound][playerID][6] === 0) {
				output += " and";
			} else {
				output += ", ";
			}
		}
		output +=  " a Pirate";
		captured_used = true;
		if (number > 1) {
			output += " (x" + number + ")";
		}
	}
	//skull king
	number = gameData[editingRound][playerID][6];
	if (number != 0) {
		if (!captured_used) {
			if (earned_used) {
				output += ", and ";
			}
			output += " captured";
		} else {
			output += " and";
		}
		output += " a Skull King";
		captured_used = true;
		if (number > 1) {
			output += " (x" + number + ")";
		}
	}
	//alliances
	var previous_text = false;
	if (captured_used || earned_used) {
		previous_text = true;
	}
	var previous_alliances = false;
	var processed_alliances = 0;
	//we need the total number of alliances ahead of time to switch between, and and as a separator
	total_alliances = 0;
	for (var i = 0; i < players.length; i++) {
		total_alliances = total_alliances + alliances[editingRound][playerID][i] + alliances[editingRound][i][playerID];
	}
	if (total_alliances > 0) {
		for (var i = 0; i < players.length; i++) {
			var number = alliances[editingRound][playerID][i] + alliances[editingRound][i][playerID];
			if (number > 0) {
				processed_alliances++;
				if (!previous_alliances) {
					if (previous_text) {
						output += ", and";
					}
					output += " an alliance with ";
				} else {
					// can we give ourselves an "and" to concatenate with the previous alliance? It depends on the existence of a third capture!
					if (processed_alliances == total_alliances) {
						output += " and ";
					} else {
						output += ", ";
					}
				}
				output +=  players[i];
				previous_alliances = true;
				if (number > 1) {
					output += " (x" + number + ")";
				}
				previous_alliance = true;
			}
		}
	}
	//we are done with building the array
	if (output != "") {
		output = players[playerID] + " has" + output + ", for a potential bonus of " + getPotentialSpecialScore(editingRound, playerID) + "!";
	}
	document.getElementById("trickPlayerSpecialTextBox" + playerID).innerHTML = output;
}
function getPotentialSpecialScore(round, playerID) {
	//get the relevant data into a better form factor
	var myArray = gameData[round][playerID];
	//count alliances
	total_alliances = 0;
	for (var i = 0; i < players.length; i++) {
		total_alliances = total_alliances + alliances[editingRound][playerID][i] + alliances[editingRound][i][playerID];
	}
	return myArray[2] * 10 + myArray[3] * 20 + myArray[4] * 20 + myArray[5] * 30 + myArray[6] * 40 + total_alliances * 20;
}

function confirmTricks() {
	//user is done with the tricks
}
function backButton() {
	//user wants to edit the previous round of tricks
}
</script>
</head>
<body onLoad="nameEntryChange()">
<div class="AppArea">
<div class="nameEntryAreaWrapper" id="nameEntryAreaWrapper">
	<div class="mainHeadline">YoHoHome</div>
	<div class="instructionHeadline">Enter Player Names:</div>
	<div class="nameEntryArea" id="nameEntryArea"></div>
	<div class="startGameErrorMessage" id="startGameErrorMessage">Please enter at least two names!</div>
	<div class="startGameButton" id="startGameButton" onclick="startGame()">START GAME</div>
</div>
<div class="gameAreaWrapper" id="gameAreaWrapper">
	<div class="viewSelectorWrapper" id="viewSelectorWrapper">
		<div class="viewSelectorButton" id="gameViewSelectorButton" onclick="showView(0)">Game</div>&nbsp;&nbsp;
		<div class="viewSelectorButton" id="leaderBoardViewSelectorButton" onclick= "showView(1)">Leaderboard</div>
		<div class="viewSelectorLine"></div>
	</div>
	<div class="bidAreaWrapper" id="bidAreaWrapper"></div>
	<div class="trickAreaWrapper" id="trickAreaWrapper"></div>
	<div class="leaderBoardAreaWrapper" id="leaderBoardAreaWrapper"></div>
</div>

<br><br>
<div id="aboutHeadline" class="aboutHeadline" onclick="toggleAbout(true)">About This App (show)</div>
<div class="aboutText" id="aboutDiv">This app was developed by Thomas Twenh&ouml;ven and 
is not associated with the creators of the base game.<br><br>

Can I edit the bids after finalizing them?<br>
Yes, just click on the player name.<br><br>

Is this app storing any of your data? <br>No! This is a website with no permanent storage whatsoever; everything is gone as soon as you close or reload the page. If you reload it by accident, the "back" functionality in your browser will probably save you.<br>
This file is currently hosted on GitHub Pages; I guess they could somehow see that you downloaded it.<br>
This app loads the piratey font from Google Fonts.
<br><br>

Image Credits:<br>
<a target="_blank" href="https://icons8.com/icon/bnngLiNhpnAZ/reduce">Minus</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br>
<a target="_blank" href="https://icons8.com/icon/sE8CuzuVQX3D/add-new">Plus</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br>
<a target="_blank" href="https://icons8.com/icon/KM21AHTWYkMK/handcuff">Handcuff</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br>
<a target="_blank" href="https://icons8.com/icon/mM6pLV4Ru4PS/coins">Coins</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br>
<a target="_blank" href="https://icons8.com/icon/t1YRq4LYARtS/mermaid">Mermaid</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br>
<a target="_blank" href="https://icons8.com/icon/86717/crown">Crown</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br>
<a target="_blank" href="https://icons8.com/icon/8sD9sEJ7OiP0/pirate">Pirate</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br>
<a target="_blank" href="https://www.flaticon.com/free-icons/bone" title="bone icons">Favicon: Bone icons created by Freepik - Flaticon</a>, specifically <a href="https://www.flaticon.com/free-icon/human-skull-with-crossed-bones-silhouette_30428?term=bone+skull&page=1&position=1&origin=search&related_id=30428">this</a>
</div>
</div>
<div id="emptyDiv" style="display: none;"></div>

</body></html>