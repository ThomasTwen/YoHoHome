<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width">
<title>YoHoHome</title>
<link rel="icon" type="image/x-icon" href="data:image/spng;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACqAAAAqgB7e92gQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALXSURBVFiFvdfPa11FFAfwz2hqUVsbClr8EYjBhaKudKEtuFH3oishJcWFYBDBZOk2C3HzQEWJhSr+DNV/QcUfNK6r6EIMIqUGC1ZbqqVqj4s3t97c3Jm+J08HDndmzveec+acM2dmRISIgFvxBTax3MxPirCcZa9j5tJ8C/A8okVzE1Q+15G90uKZwQpOd0AHJ2jAfEf26axzZgpHcZ/t7YqeOZBSmsYs9uEkNiLiXAmPKzvjaTyHB+W4RA+tdlZxP9bwSwH/I97D3T0eWC38s8kwOfqYgQF24MUKpksX8QZ2ZuWDCnY5RYSU0hz2Z1ftx5Mtd53ALRX3ltrnOI7F1txrOIa/cCwiNkpJU7P639KgV1clc1/9r5VHRDnT8duYLi+1jyPi2RKzZsAjEzJgV42Zmmq0ZTKlq/C7uoGjtrMRcV2JWVJw/YSUw+6U0k3jGnB+QsqbdqHE+D9CcD4iri4xexVExAV81RaCb/CJYRHpa2fwIb61dcUnquZV6sArhnt4A9Ot+TsMz/T2Pv8Mu1qYm3Gq4VVPyooBT2UBBwrn+8XM/xN7ejCPZv77NQNqMb4nf7cVpIjYwNk8/CEifu35/2T+7qjo6PcAbjSMY+DlHv6hzFvPHug7gt/NmJ9x7VghwDO2xvhI9shDmXcOaxl7FN/jcdyOB/BR5/+nxzXgTZc/YGYz9rYRsB+UDJgqROZ1PIZrKtF7OKV0BnsrmKatFTmVXfDOCCsr0ZedcfE4HvVCMsB3IypfR+qTUTTA8IY7jwXbL5CDjHk7j08ZZn5TpJpa8FPuv1BZyGrWMe+fHLJUWc2gJWyx5Y1Pc78pNsfxUu4vXsabbVpi9Gv5nYbnwCEcxteYyl54C0/gD9zQE9Lqtbxb1xtaKJTg3diDu/LcAezL/XsLObVQyZfi02y+VsPHIRzsyL70NGuDVjqg2QkaUH6ctkAz2SWbWJqU8pb83uf531Pa0xJ0bGAIAAAAAElFTkSuQmCC"/>
<style>
body { 
	background-color: #303030;
	color: white;
	font-size: 100%;
}
.AppArea {
	background-color: black;
	width: 500px;
	margin-inline: auto;
	font-size: 1.5em;
	padding: 5px;
	margin-top: 0px;
	text-align: center;
}
.aboutHeadline {
	font-size: 0.7em; 
	color: orange;
	text-align: center;
}
.aboutText {
	font-size: 0.7em; 
	color: white;
	padding: 20px 20px 20px 20px;
	display: none;
}
a:link {
	color: lightblue;
}
a:visited {
	color: lightblue;
}
.instructionHeadline {
	color: orange;
	font-size: 1.5em;
	margin-left: 15px;
}
.userBoxMargin {
	border-radius: 10px;
	border: 2px solid orange;
	margin: 10px 5px;
	padding: 10px;
}
.playerBoxMargin {
	margin: 10px 5px;
	padding: 10px;
}
.nameEntry {
	border-radius: 10px;
	border: 2px solid #303030;
	margin: 10px 0px;
	padding: 10px;
}

.mainHeadline {
	font-size: 1.5em;
	color: orange;
	text-align: center;
	font-weight: bold;
	margin-bottom: 10px;
}
.nameEntryAreaWrapper {
	padding: 10px 34.5px;
}
.nameEntryTickMark {
	background-color: #303030;
	margin-right: 10px;
	height: 51px;
	width: 51px;
	vertical-align: middle;
	border: none;
	border-radius: 5px;
}
input[type=text] {
  background-color: #303030;
  color: orange;
  font-size: 1.5em;
  border-radius: 5px;
  border: none;
  font-weight: bold;
  vertical-align: middle;
  text-align: center;
  padding: 5px;
  width: 330px;
}
input:active, input:focus {
	outline: none;
}
.startGameErrorMessage {
	border-radius: 10px;
	border: 2px solid #303030;
	margin: 10px;
	color: white;
	font-size: 0.7em;
	padding: 10px;
	width: 75%;
	margin-inline: auto;
}
.startGameButton {
	color: white;
	margin: 10px;
	background-color: #303030;
	border-radius: 10px;
	width: 75%;
	font-size: 1.5em;
	padding: 10px;
	text-align: center;
	margin-inline: auto;
}
.gameAreaWrapper {
	display: none;
	color: orange;
}
.viewSelectorWrapper {
	position: relative;
}
.viewSelectorLine {
	position: absolute;
	background-color: #303030;
	top: 41px; 
	left: 0;
	height: 2px;
	width: 100%;
	z-index: 1;
}
.viewSelectorButton {
	position: relative;
	display: inline-block;
	border: 2px solid #303030;
	width: 180px;
	padding: 10px;
	border-radius: 5px 5px 0px 0px;
	z-index: 5;
	background: black;
	font-size: 0.7em;
	vertical-align: middle;
}
.bidAreaWrapper {
	display: none;
	padding-top: 20px;
	text-align: left;
}
.bidInstructionString {
	text-align: center;
	width: 100%;
	font-size: 1.5em;
}
.bidNameBox {
	width: 100%;
	background: #303030;
	display: block;
	text-align: center;
	padding: 5px;
	font-size: 1.5em;
}
.bidButton {
	display: inline-block;
	border: 4px solid #303030;
	border-radius: 5px;
	color: orange;
	padding: 10px 24px;
	margin: 10px;
	font-size: 1.5em;
}
.bidEntryErrorMessage {
	border-radius: 10px;
	border: 2px solid red;
	margin: 15px 10px;
	color: red;
	font-size: 0.7em;
	padding: 15px 5px;
	width: 70%;
	margin-inline: auto;
	text-align: center;
	display: none;
}
.bidConfirmButton {
	color: white;
	background: orange;
	width: 70%;
	border-radius: 10px;
	padding: 5px;
	margin-inline: auto;
	text-align: center;
	border: 2px solid orange;
	font-size: 1.5em;
}
.trickAreaWrapper {
	display: none;
}
.leaderBoardAreaWrapper {
	display: none;
}

</style>
<script type="text/javascript">
var allowGameStart = false;
var players = new Array();
var totalscores = new Array();
var gameData = new Array();
// first round, then player
// bid - trick - +10, +20, mermaid, pirate, king
var alliances = new Array();
//round, player, player
var currentRound = 0;
var editingRound = 0;
var currentGameView = 0;
function toggleAbout(changeTo) {
	if (changeTo) {
		document.getElementById("aboutDiv").style.display = "block";
		document.getElementById("aboutHeadline").setAttribute("onclick","toggleAbout(false)");
		document.getElementById("aboutHeadline").innerHTML = "About This App (hide)"
	} else {
		document.getElementById("aboutDiv").style.display = "none";
		document.getElementById("aboutHeadline").setAttribute("onclick", "toggleAbout(true)");
		document.getElementById("aboutHeadline").innerHTML = "About This App (click)"
	}
}
var nameEntryString = "<div class=\"nameEntry\"><img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAADUUlEQVR4nO3cO2gVQRTG8YlPUEFBsfDR+AQRtREsBEE70UZEsFBEIYU2YmOqYGGhdhIQBBG0EjSVIIqCqCCIElIEtdI0Por4SopANPcvIxtMJCbZmbl3Zme/X5/L2f12Z5fZc2KMiIiIiIiIiIiIiIiIiIgEBCwE5oT8TfEL4zFwB5jr+jsSNowxCiWhMBRKgmEolATDUCgJhqFQEgzDegbMa3pxdYNbGP3A8ti1Zwe3MIaALbFrzw5uYTSAQ7Frzw5uYVidsWvPDu5hdANtsevPCu5h9Nq/jV1/VnAPYwBYE7v+rOAexgiwK3b9WcE9DKs9dv1ZwS+My7Hrzwp+YTzSV8J0wngHLAtZT63hF8YgsDn2MWQDvzBGgf2xjyEb+IVhdcQ+hmzgH8ZtbYukE0YPsCBUPbWGfxifgFWxjyML+IcxDOwwqQHWAsdMhQCLim/aPo6a1ADzgVfj9vuXmvzvDOuSSRHQxUSfgb0m7zAeALNNaoCDU3w3vpramwdhwngLLDGJPje+T1N8H7DN5BPGD2CTSfy5MZM3kbPArIqH8SvZpRg46bjurqjo25R1xqTKDp4AdynvG3C4YneGdcOkzvakAvdxc9NeuRUJ47ldok0V2Lco4Knjgb4HdiYexgdgpakSYDHw0vGAfwIXQs7eES4M+zKy3VSR/VxZvOK6egGsTyiMRiufdU1hW+uBNx4nYdCnZYZwYVjnTQ6A1cWzwUfp/TDChnEvyW0RV8A64KPnSZnxfhhhw3htn4kmN8DG4qT6aEy3HxY4jC/2YjK5ArYCXwOcqL7J9sMCh2Hf9nab3NmvacX4lq/h8fthgcOwTpm6sFdecUJDeAhsCBzGdVM3wL6iLT+EBuE8qe0/hAEOFGt1KvprP5YMHCnaLWMb0ljy3zvleOBlpyyNJU+yfJ0mns5WL9eVAJyLEEa3+m+nDuViC8Po1Vjy9HdJG3ClBWEMaCy5XCjXmhjGiMaSS7Lb3cCtJgXSXrYe8etkmYrGkiN2svxLY8kJdLKM0VhyQp0sgxpLTqeTZVRjyWl1snQ0sx4xpTpZNJacUCdLT2rDQdnj/50sGktOqJNlOMmx5DphYifLidj1iPkTyp5s+m9FRERERERERERExOTvNx4w2r5e+WKBAAAAAElFTkSuQmCC\"";
nameEntryString += "class =\"nameEntryTickMark\"/><input type=\"text\" oninput=\"nameEntryChange()\"></div>";
function nameEntryChange() {
	// There should be at least two name fields, the last of which should be empty
	// Loop over all name entry areas
	var nameDouble = false;
	var children = document.getElementById("nameEntryArea").children;
	var empties = 0;
	var existingNames = 0;
	for (var i = 0; i < children.length; i++) {
		//check if field is empty
  		if (!children[i].children[1].value) {
  			//its empty!
  			empties++;
  			children[i].firstChild.style.background = "#303030";
  			children[i].style.borderColor = "#303030"
  		} else {
  			//Not empty. 
  			children[i].firstChild.style.background = "orange";
  			children[i].style.borderColor = "orange"
  			children[i].children[1].style.color = "orange"
  			//Lets search for duplicate entries. Note that nameDouble can still be positive from a duplicate found in a previous field, 
  			//but needs to be such a high-level variable for later
  			existingNames++;
  			for (var j = 0; j < i; j++) {
  				if (children[i].children[1].value === children[j].children[1].value) {
  					nameDouble = true;
  					children[i].firstChild.style.background = "red";
  					children[i].children[1].style.color = "red"
  		  			children[i].style.borderColor = "red";
  				}
  			}
  		}
	}
	//We dont have enough input fields
	if (empties == 0) {
		document.getElementById("emptyDiv").innerHTML = nameEntryString;	
		document.getElementById("nameEntryArea").append(document.getElementById("emptyDiv").firstChild);
	}
	if (i == 0) {
		document.getElementById("emptyDiv").innerHTML = nameEntryString;	
		document.getElementById("nameEntryArea").append(document.getElementById("emptyDiv").firstChild);
	}
	//Set the error message
	if (nameDouble) {
		//We have a double name
		document.getElementById("startGameErrorMessage").style.display = "block";
		document.getElementById("startGameErrorMessage").innerHTML ="All names must be different!"
		document.getElementById("startGameErrorMessage").style.borderColor = "red";
		document.getElementById("startGameErrorMessage").style.color = "red";
		document.getElementById("startGameButton").style.background = "#303030";
		allowGameStart = false;
	} else if (existingNames < 2) {
		// We dont have two names yet
		document.getElementById("startGameErrorMessage").style.display = "block";
		document.getElementById("startGameErrorMessage").innerHTML ="Please enter at least two names!"
		document.getElementById("startGameErrorMessage").style.borderColor = "#303030";
		document.getElementById("startGameErrorMessage").style.color = "white";
		document.getElementById("startGameButton").style.background = "#303030";
		allowGameStart = false;
	} else {
		//game can start!
		allowGameStart = true;
		document.getElementById("startGameErrorMessage").style.display = "none";
		document.getElementById("startGameButton").style.background = "orange";
	}
}
function startGame() {
	//begin by checking the names, we should have at least two names and no diuplicates
	var nameDouble = false;
	var children = document.getElementById("nameEntryArea").children;
	var empties = 0;
	var existingNames = 0;
	for (var i = 0; i < children.length; i++) {
		//check if field is empty
  		if (children[i].children[1].value) {
  			//Not empty. 
  			existingNames++;
  			//Lets search for duplicate entries. Note that nameDouble can still be positive from a duplicate found in a previous field, 
  			//but needs to be such a high-level variable for later
  			for (var j = 0; j < i; j++) {
  				if (children[i].children[1].value === children[j].children[1].value) {
  					nameDouble = true;
  				}
  			}
  		}
	}
	if(existingNames >= 2 && !nameDouble) {
		//Lets start
		//initialize array for round 1
		gameData[1] = new Array();
		//populate players array
		var j = 0;
		for (var i = 0; i < children.length; i++) {
			//check if field is empty
  			if (children[i].children[1].value) {
  				players[j] = children[i].children[1].value;
  				gameData[1][j] = [0, 0, 0, 0, 0];
  				j++;
  			}
		}
		//show the right divs
		document.getElementById("nameEntryAreaWrapper").style.display = "none";
		document.getElementById("gameAreaWrapper").style.display = "block";
		document.getElementById("bidAreaWrapper").style.display = "block";
		document.getElementById("gameViewSelectorButton").style.borderBottom="2px solid black";
		//build the bid structure
		currentRound++;
		editingRound++;
		updateBidStructure();
	} else {
		document.getElementById("startGameErrorMessage").style.display = "block";
		document.getElementById("startGameErrorMessage").innerHTML ="Cant start game! Please enter at least two names and avoid duplicates"
		document.getElementById("startGameErrorMessage").style.borderColor = "red";
		document.getElementById("startGameErrorMessage").style.color = "red";
		document.getElementById("startGameButton").style.background = "red";
	}
}
function showView(view) {
	//the user wants to switch between the game view and the leaderboard view
	//0 is game, 1 is leaderboard
	currentGameView = view;
	if (view == 0) {
		document.getElementById("bidAreaWrapper").style.display="block";
		document.getElementById("leaderBoardAreaWrapper").style.display = "none";
		document.getElementById("gameViewSelectorButton").style.borderBottom="2px solid black";
		document.getElementById("leaderBoardViewSelectorButton").style.borderBottom="2px solid #303030";
	} else {
		document.getElementById("bidAreaWrapper").style.display="none";
		document.getElementById("trickAreaWrapper").style.display="none";
		document.getElementById("leaderBoardAreaWrapper").style.display = "block";
		document.getElementById("gameViewSelectorButton").style.borderBottom="2px solid #303030";
		document.getElementById("leaderBoardViewSelectorButton").style.borderBottom="2px solid black";
	}
}
function updateBidStructure() {
	var myString = "<div class=\"bidInstructionString\">Enter player bids:</div>";
	for (var i = 0; i < players.length; i++) {
		myString += "<div class=\"playerBoxMargin bidUserBox\"><span class=\"bidNameBox\">" + players[i] + "</span>";
		for (var j = 0; j <= currentRound; j++) {
			myString += "<div class=\"bidButton\" onclick=\"bidClick(this," + i + ", " + j + ")\">" + j + "</div>";
		}
		myString += "</div>";
	}
	myString += "<div class=\"bidEntryErrorMessage\" id=\"bidEntryErrorMessage\">Missing bids have been auto-filled to 0!</div><div class=\"bidConfirmButton\" onclick=\"confirmBids()\">CONFIRM BIDS</div>";
	document.getElementById("bidAreaWrapper").innerHTML = myString;
}
function bidClick(buttonElement, playerId, bidValue) {
	//Loop over all elements and format them as non-clicked, then fix the one that was actually clicked
	for (var i = 1; i < buttonElement.parentElement.children.length; i++) {
		currentElement = buttonElement.parentElement.children[i];
		currentElement.style.borderColor = "#303030";
		currentElement.style.background = "black";
		currentElement.style.color = "orange";
	}
	buttonElement.style.borderColor = "orange";
	buttonElement.style.background = "orange";
	buttonElement.style.color = "white";
	//write values into the data structure
	gameData[editingRound][playerId][0] = bidValue;
	//alert("Clicked player" + playerId + " and value " + bidValue);
}
function confirmBids() {
	//loop over all players to get their results; identify if all have been filled out
	var forgottenPlayerExists = false;
	for (var i = 0; i < players.length; i++) {
		//we are now checking player i, is there anything selected for them
		myEl = document.getElementById("bidAreaWrapper").children[i+1];
		var selectedBoxExists = false;
		for (var j = 0; j < editingRound+1; j++) {
			if (myEl.children[j+1].style.color == "white") {
				selectedBoxExists = true;
			}
		}
		if (!selectedBoxExists) {
			//The player has forgotten a guy, lets remember that for setting up the warning message
			forgottenPlayerExists = true;
			//auto-select the 0 in red for him
			myEl.children[1].style.color = "white";
			myEl.children[1].style.borderColor = "red";
			myEl.children[1].style.background = "red";
		}
	}
	if (forgottenPlayerExists) {
		//the player has forgotten to set at least one bid, and we selected it for him
		document.getElementById("bidEntryErrorMessage").style.display="block";
	}
}
</script>
</head>
<body onLoad="nameEntryChange()">
<div class="AppArea">
<div class="nameEntryAreaWrapper" id="nameEntryAreaWrapper">
	<div class="mainHeadline">YoHoHome</div>
	<div class="instructionHeadline">Enter Player Names:</div>
	<div class="nameEntryArea" id="nameEntryArea"></div>
	<div class="startGameErrorMessage" id="startGameErrorMessage">Please enter at least two names!</div>
	<div class="startGameButton" id="startGameButton" onclick="startGame()">START GAME</div>
</div>
<div class="gameAreaWrapper" id="gameAreaWrapper">
	<div class="viewSelectorWrapper" id="viewSelectorWrapper">
		<div class="viewSelectorButton" id="gameViewSelectorButton" onclick="showView(0)">Game</div>&nbsp;&nbsp;
		<div class="viewSelectorButton" id="leaderBoardViewSelectorButton" onclick= "showView(1)">Leaderboard</div>
		<div class="viewSelectorLine"></div>
	</div>
	<div class="bidAreaWrapper" id="bidAreaWrapper"></div>
	<div class="trickAreaWrapper" id="trickAreaWrapper"></div>
	<div class="leaderBoardAreaWrapper" id="leaderBoardAreaWrapper"></div>
</div>

<br><br>
<div id="aboutHeadline" class="aboutHeadline" onclick="toggleAbout(true)">About This App (click)</div>
<div class="aboutText" id="aboutDiv">This app was developed by Thomas Twenh&ouml;ven and 
is not associated with the creators of the base game.<br><br>

Is this app storing any of your data? <br>No! This is a website with no permanent storage whatsoever; everything is gone as soon as you close or reload the page. If you reload it by accident, the "back" functionality in your browser will probably save you.<br>
This file is currently hosted on GitHub Pages; I guess they could somehow see that you downloaded it.<br><br>

Image Credits:<br>
<a target="_blank" href="https://www.flaticon.com/free-icons/bone" title="bone icons">Favicon: Bone icons created by Freepik - Flaticon</a><br>
<a target="_blank" href="https://icons8.com/icon/W9RS5YNuHAdG/done">Checkmark</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a>
</div>

</div>
<div id="emptyDiv" style="display: none;"></div>

</body></html>